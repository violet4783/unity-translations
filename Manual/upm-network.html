<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Network issues</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1586228985"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1586228985"></script><script type="text/javascript" src="docdata/toc.js?ts=1586228985"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1586228985"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1586228985">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2019.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-network.html">English</a></li>
<li><a href="/ja/current/Manual/upm-network.html">日本語</a></li>
<li><a href="/es/current/Manual/upm-network.html">Español</a></li>
<li><a href="/kr/current/Manual/upm-network.html">한국어</a></li>
<li><a href="/ru/current/Manual/upm-network.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2019.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-network.html">English</a></li>
<li><a href="/ja/current/Manual/upm-network.html">日本語</a></li>
<li><a href="/es/current/Manual/upm-network.html">Español</a></li>
<li><a href="/kr/current/Manual/upm-network.html">한국어</a></li>
<li><a href="/ru/current/Manual/upm-network.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.3)</a></li>
<li><a href="PackagesList.html"> Packages</a></li>
<li><a href="Packages.html"> Unity's Package Manager</a></li>
<li><a href="upm-errors.html"> Troubleshooting</a></li>
<li> Network issues</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-errors.html"></a></span><div class="tip"> Troubleshooting</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="CustomPackages.html"></a></span><div class="tip"> Creating custom packages</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Network issues</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<ul>
<li><a href="#Diagnostics">Using the Diagnostics tool</a></li>
<li><a href="#Firewall">Configuring your firewall</a></li>
<li><a href="#Proxy">Configuring your proxy server</a></li>
</ul>

<p><a name="Diagnostics"></a></p>

<h2>Using the Diagnostics tool</h2>

<p>Use the Unity Package Manager Diagnostics tool to diagnose common network-related issues associated with Unity Package Manager. The Diagnostics tool runs some basic network tests that the Unity support team needs in order to diagnose common network problems. After you run the tool, you can share the results with the Unity support team who can better guide you in resolving those issues.</p>

<p>You can run the Unity Package Manager Diagnostics either through the <a href="#UILaunch">Unity Package Manager Error dialog</a> or by <a href="#ScriptLaunch">manually running the launch script</a>.</p>

<p>After the Diagnostics tool finishes, it displays the results of the tests in the shell window. It also writes a log file and a report file, which you can open from the shell window:</p>

<figure>
<img src="../uploads/Main/upm-network-diagnostics.png" alt="Diagnostic report on top of the tool results in the shell window">
<figcaption>Diagnostic report on top of the tool results in the shell window</figcaption>
</figure>

<p>After running Unity Package Manager Diagnostics, you can:</p>

<ul>
<li>Ask for support in the <a href="https://forum.unity.com/forums/package-manager.150/">Package Manager area of the Unity forums</a> and attach the diagnostic report.</li>
<li>
<a href="https://unity3d.com/unity/qa/bug-reporting">Submit a bug</a> and include the report.</li>
</ul>

<p><a name="UILaunch"></a></p>

<h3>Launch from the Unity Package Manager Error dialog</h3>

<p>When Unity tries to launch, it starts the Package Manager process before it loads the Project. If it encounters a critical error with Package Manager, Unity displays the following error message:</p>

<figure>
<img src="../uploads/Main/upm-network.png" alt="Critical error dialog appears prompting you for action">
<figcaption>Critical error dialog appears prompting you for action</figcaption>
</figure>

<p>To run the Diagnose tool, click <strong>Diagnose</strong>. Unity closes and launches the Diagnostics tool in a new window.</p>

<p><a name="ScriptLaunch"></a></p>

<h3>Launch via script</h3>

<p>Locate the script in the <em>Diagnostics</em> folder under the Unity installation folder:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Operating system:</strong></th>
	<th style="text-align:left;">
<strong>Path to Diagnostics command-line tool</strong>:</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Windows</td>
	<td style="text-align:left;">
<code>&lt;path-to-unity-installation-folder&gt;</code><br>   <code>\Unity</code><br>      <code>\Data</code><br>         <code>\Resources</code><br>            <code>\PackageManager</code><br>               <code>\Diagnostics</code><br>                  <code>\RunUnityPackageManagerDiagnostics.bat</code>
</td>
</tr>
<tr>
	<td style="text-align:left;">macOS<br>Linux</td>
	<td style="text-align:left;">
<code>&lt;path-to-unity-installation-folder&gt;</code><br>   <code>\Unity.app</code><br>      <code>\Contents</code><br>         <code>\Resources</code><br>            <code>\PackageManager</code><br>               <code>\Diagnostics</code><br>                  <code>\RunUnityPackageManagerDiagnostics</code>
</td>
</tr>
</tbody>
</table>

<p>To launch the tool, either double-click the script file in your file browser or run it from the command line.</p>

<p><a name="Firewall"></a></p>

<h2>Configuring your firewall</h2>

<p>Make sure the Unity Package Manager can access the following domain names using HTTPS:</p>

<ul>
<li>packages.unity.com</li>
<li>download.packages.unity.com</li>
<li>upm-cdn.unity.com (or upm-cdn-china.unitychina.cn for locations in China)</li>
</ul>

<p>Add the above domain names to your firewall’s list of allowed domains.</p>

<p><a name="Proxy"></a></p>

<h2>Configuring your proxy server</h2>

<p>When using a proxy server, configure the <code>HTTP_PROXY</code> and <code>HTTPS_PROXY</code> environment variables for the Unity Package Manager to use when performing requests against the Unity package registry.</p>

<p>You can set these variables globally (either system or user variables) according to your operating system. Alternatively, you can <a href="#Hub">set them only for the Unity Hub</a> when it launches. </p>

<p>For environments where you are behind a firewall, you can configure SSL certificate authorities for <a href="#SSL">self-signed certificates</a>.</p>

<p><a name="SSL"></a></p>

<h3>Self-signed certificates</h3>

<p>In some corporations and institutions, users are behind a firewall and can only access the internet through a proxy. Some proxies unpack the HTTPS content and repack it with its own self-signed certificate. Unity Package Manager’s underlying HTTPS layer rejects these self-signed certificates because it does not recognize them, and treats the connection as a possible man-in-the-middle attack. This means that you can’t use many features in Unity, including the Package Manager, unless you configure additional SSL certificate authorities to allow these certificates.</p>

<p>To configure additional SSL certificate authorities:</p>

<ol>
<li>
<p>Create a text file with one or more custom certificate authorities. The file should consist of one or more trusted certificates in the <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail">Privacy-Enhanced Mail</a> (PEM) format. For example:</p>

<pre><code class="pem">-----BEGIN CERTIFICATE-----
MIIC+zCCAeOgAwIBAgIJAO0U6hVJnbvjMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNV
BAMMCWxvY2FsaG9zdDAeFw0xOTAzMTIwMTIxMzRaFw0yOTAzMDkwMTIxMzRaMBQx
EjAQBgNVBAMMCWxvY2FsaG9zdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
ggEBAKNh0EM7j57pXorGs5OHzlk9TYeUqITtXXdWfY1fbqRdj+a8qLNs4m/nDsDW
KgibHYG3FUqIidjPL61DLQuWUPY9Zo+uQaccIe0E5wb+To9mwMlLuhMD6iCPFRpe
jcDhNj4vG1RVARMO1jupeZqdb+xHBZqtmMJmtiDOBxt662Z4hvoH8mdqNEuSkozz
HqXmcdigrTO37DspGRBx08GJlHFHUs7C+hYOsOdNjME3dH/8uihjKYiqQb1E12dN
PNL7jYm3AZv+qUmDFM3BJE0hSmAP00GuTJxbe31Kh4e7N5/XSiLsnqwircOj/Hfi
eWjtsoXbCNDIiWUQtXBeLD/BdvkCAwEAAaNQME4wHQYDVR0OBBYEFDFw8VDkgMne
mDjgo+b1iaPfUkdVMB8GA1UdIwQYMBaAFDFw8VDkgMnemDjgo+b1iaPfUkdVMAwG
A1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFEjUWGz1r3xSsbwUJsRhbMc
M7Jjf9/r833H7eq31mbl/JbXPnpo8IctMuWyw42ccMtgq7i+coQeKwvWnHtI5rhe
vshEkIqNPAoCnpW5NLprYDDTG1PDEhv6FYpW8Alq65i03tptzaoHlH3sH+97E/h0
qSYI7yNHWMC5u0r1DB0BR+lZsj6RnwWPySMSuXx5sSiKIS/HkkMVwwmxKa4ZwuwS
LFwHSUdqk0lJK4b0mCwyTHNvYO1IDziE5EKwfuaKVgOa62iCHVahgIVa+een4EfS
hCCr3M3cq11Mi+mnRi1scxxrOno4OEEChWg2szZLlxBrkVJllrrq620XJ6RLB/8=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIDtzCCAp+gAwIBAgIQDOfg5RfYRv6P5WD8G/AwOTANBgkqhkiG9w0BAQUFADBl
MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
d3cuZGlnaWNlcnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJv
b3QgQ0EwHhcNMDYxMTEwMDAwMDAwWhcNMzExMTEwMDAwMDAwWjBlMQswCQYDVQQG
EwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNl
cnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJvb3QgQ0EwggEi
MA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCtDhXO5EOAXLGH87dg+XESpa7c
JpSIqvTO9SA5KFhgDPiA2qkVlTJhPLWxKISKityfCgyDF3qPkKyK53lTXDGEKvYP
mDI2dsze3Tyoou9q+yHyUmHfnyDXH+Kx2f4YZNISW1/5WBg1vEfNoTb5a3/UsDg+
wRvDjDPZ2C8Y/igPs6eD1sNuRMBhNZYW/lmci3Zt1/GiSw0r/wty2p5g0I6QNcZ4
VYcgoc/lbQrISXwxmDNsIumH0DJaoroTghHtORedmTpyoeb6pNnVFzF1roV9Iq4/
AUaG9ih5yLHa5FcXxH4cDrC0kqZWs72yl+2qp/C3xag/lRbQ/6GW6whfGHdPAgMB
AAGjYzBhMA4GA1UdDwEB/wQEAwIBhjAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQW
BBRF66Kv9JLLgjEtUYunpyGd823IDzAfBgNVHSMEGDAWgBRF66Kv9JLLgjEtUYun
pyGd823IDzANBgkqhkiG9w0BAQUFAAOCAQEAog683+Lt8ONyc3pklL/3cmbYMuRC
dWKuh+vy1dneVrOfzM4UKLkNl2BcEkxY5NM9g0lFWJc1aRqoR+pWxnmrEthngYTf
fwk8lOa4JiwgvT2zKIn3X/8i4peEH+ll74fg38FnSbNd67IJKusm7Xi+fT8r87cm
NW1fiQG2SVufAQWbqz0lwcy2f8Lxb4bG+mRo64EtlOtCt/qMHt1i8b5QZ7dsvfPx
H2sMNgcWfzd8qVttevESRmCD1ycEvkvOl77DZypoEd+A5wwzZr8TDRRu838fYxAe
+o0bJW1sj6W3YQGx0qMmoRBxna3iw/nDmVG3KwcIzi7mULKn+gpFL6Lw8g==
-----END CERTIFICATE-----
</code></pre>
</li>
<li><p>Put this file in the same location as <code>upm-config.json</code> if possible, although Unity supports any location on the file system.</p></li>
<li>
<p>Create an empty JSON file named <code>upm-config.json</code> in the system-level Unity configuration folder:</p>

<ul>
<li>Windows: <code>%ALLUSERSPROFILE%Unity/config</code>
</li>
<li>macOS: <code>/Library/Application Support/Unity/config</code>
</li>
<li>Linux: <code>/usr/share/unity3d/config</code>
</li>
</ul>
</li>
<li>
<p>In the <code>upm-config.json</code> file, add the <strong>caFile</strong> attribute set to the absolute file path for your PEM file. For example:</p>

<pre><code class="json">{
  &quot;caFile&quot;: &quot;C:\\ProgramData\\Unity\\config\\cert.pem&quot;
}
</code></pre>
</li>
</ol>

<p><a name="Hub"></a></p>

<h3>Setting environment variables for the Unity Hub</h3>

<p>This section provides instructions for creating a command file you can run from a <a href="#Windows">Windows command prompt</a> or a <a href="#MacOS">macOS or Linux terminal</a>. Alternatively, you can copy and paste the commands directly into the prompt or terminal window.</p>

<p>
<strong>Note:</strong> Before you run the command file, shut down the Hub completely. If the Hub is already running, the script switches focus to the Hub without relaunching, so it does not apply the changed proxy settings. </p>

<p><a name="Windows"></a></p>

<h4>Windows</h4>

<p>These instructions create a command file on Windows. </p>

<p>The file launches the Hub with the environment variables set. You can either double-click the file, or invoke it from the command prompt. Unity passes these environment variables on to any Unity Editor process launched from the Hub.</p>

<ol>
<li><p>Open a text editor such as Notepad.</p></li>
<li>
<p>Enter the following text, replacing <strong>proxy-url</strong> with the correct proxy server URL and adjusting the Hub install path if needed:</p>

<pre><code class="powershell">@echo off
set HTTP_PROXY=proxy-url
set HTTPS_PROXY=proxy-url
start &quot;&quot; &quot;C:\Program Files\Unity Hub\Unity Hub.exe&quot;
    
</code></pre>

<p>
<strong>Note:</strong> If there are spaces in the path, you must use double quotes around the path to the program.</p>
</li>
<li><p>Save the file to a location where you can easily find it (such as the <code>Desktop</code>), and make sure the file has the <code>.cmd</code> (for example, <code>launchUnityHub.cmd</code>).</p></li>
</ol>

<p><a name="MacOS"></a></p>

<h4>macOS</h4>

<p>These instructions create the <code>launchUnityHub.command</code> file on macOS.</p>

<p>The file launches the Hub with the environment variables set. You can either double-click the file, or invoke it from a Bash terminal. Unity passes these environment variables on to any Unity Editor process launched from the Hub.</p>

<p>
<strong>Note:</strong> Double-clicking the command file opens a Terminal window or tab and leaves it open, even after the script finishes. You can change this behavior in the preferences for the <strong>Terminal.app</strong>.</p>

<ol>
<li><p>Open a Terminal window. </p></li>
<li>
<p>Enter the following script, replacing <strong>proxy-url</strong> with the correct proxy server URL and adjusting the Hub install path if needed:</p>

<pre><code class="bash">echo '#!/bin/bash
export HTTP_PROXY=proxy-url
export HTTPS_PROXY=proxy-url
nohup &quot;/Applications/Unity Hub.app/Contents/MacOS/Unity Hub&quot; &amp;&gt;/dev/null &amp;' &gt; launchUnityHub.command
chmod +x launchUnityHub.command
</code></pre>

<p>
<strong>Note:</strong> If there are spaces in the path, you must use double quotes around the path to the program.</p>
</li>
<li><p>Move the <code>launchUnityHub.command</code> file to a convenient location (for example, the <code>Desktop</code>), if you prefer.</p></li>
</ol>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-errors.html"></a></span><div class="tip"> Troubleshooting</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="CustomPackages.html"></a></span><div class="tip"> Creating custom packages</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2020 Unity Technologies. Publication Date: 2020-04-07.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
